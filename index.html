<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Touch Sound Synthesizer with Planets</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: black; /* Change background color to black */
            touch-action: none; /* Prevent default touch actions */
            overflow: hidden;
        }
        .planet {
            position: absolute;
            width: 50px;
            height: 50px;
            background-size: cover;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <canvas id="planetCanvas" style="display:none;"></canvas>
    <script>
        // Initialize AudioContext
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let oscillator;
        let gainNode;

        const planetColors = [
            '#FFD700', // Sun
            '#A9A9A9', // Mercury
            '#FF7F50', // Venus
            '#4682B4', // Earth
            '#FF4500', // Mars
            '#FFD700', // Jupiter
            '#DAA520', // Saturn
            '#00CED1', // Uranus
            '#4169E1'  // Neptune
        ];

        // Function to create a planet image using canvas
        function createPlanetImage(color) {
            const canvas = document.getElementById('planetCanvas');
            const ctx = canvas.getContext('2d');
            const size = 50;

            canvas.width = size;
            canvas.height = size;

            ctx.clearRect(0, 0, size, size);
            ctx.beginPath();
            ctx.arc(size / 2, size / 2, size / 2, 0, Math.PI * 2);
            ctx.fillStyle = color;
            ctx.fill();

            return canvas.toDataURL();
        }

        // Function to create and display a planet at the touch location
        function createPlanet(x, y) {
            const color = planetColors[Math.floor(Math.random() * planetColors.length)];
            const planetImage = createPlanetImage(color);
            const planetElement = document.createElement('div');
            planetElement.className = 'planet';
            planetElement.style.backgroundImage = `url(${planetImage})`;
            planetElement.style.left = `${x - 25}px`; // Center the planet on touch
            planetElement.style.top = `${y - 25}px`; // Center the planet on touch
            document.body.appendChild(planetElement);

            // Remove the planet after a while
            setTimeout(() => {
                planetElement.remove();
            }, 2000); // Planet stays for 2 seconds
        }

        // Function to start playing the note
        function startSound(frequency, volume) {
            oscillator = audioContext.createOscillator();
            gainNode = audioContext.createGain();

            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime); // Set frequency
            gainNode.gain.setValueAtTime(volume, audioContext.currentTime); // Set volume

            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);

            oscillator.start();
        }

        // Function to update the frequency and volume
        function updateSound(frequency, volume) {
            oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);
            gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
        }

        // Function to stop playing the note
        function stopSound() {
            oscillator.stop();
            oscillator.disconnect();
            gainNode.disconnect();
        }

        document.addEventListener('touchstart', (event) => {
            const touch = event.touches[0];
            const x = touch.clientX;
            const y = touch.clientY;
            const width = window.innerWidth;
            const height = window.innerHeight;

            const frequency = 100 + ((x / width) * 14900); // Map x to frequency (100Hz to 15000Hz)
            const volume = 1 - (y / height); // Map y to volume (0 to 1)

            createPlanet(x, y);
            startSound(frequency, volume);
        });

        document.addEventListener('touchmove', (event) => {
            const touch = event.touches[0];
            const x = touch.clientX;
            const y = touch.clientY;
            const width = window.innerWidth;
            const height = window.innerHeight;

            const frequency = 100 + ((x / width) * 14900); // Map x to frequency (100Hz to 15000Hz)
            const volume = 1 - (y / height); // Map y to volume (0 to 1)

            updateSound(frequency, volume);
        });

        document.addEventListener('touchend', () => {
            stopSound();
        });
    </script>
</body>
</html>

